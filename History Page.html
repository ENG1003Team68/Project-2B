<html>
    <head>
        <script type="text/javascript" src="/path/to/jquery-latest.js"></script> 
<script type="text/javascript" src="/path/to/jquery.tablesorter.js"></script> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.indigo-pink.min.css">
        <script src="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

        <style>
            .viewRun{
                width: 200px;
                height: 50px;
                border: 5px double grey;
                background-color: aliceblue;
                display: block;
                opacity: 0.9;
                filter: alpha(opacity=60);
            }
            textarea{
                font-family:calibri;
                vertical-align: middle;
                border: 4px solid grey;
                opacity: 0.9;
                filter: alpha(opacity=60);
            }
            
        </style>

        
    </head>
        
    <body onload="Javascript:create()">
        
        
 <!-- Uses a header that scrolls with the text, rather than staying
  locked at the top -->
        <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
            <header class="mdl-layout__header mdl-layout__header--scroll">
                <div class="mdl-layout__header-row">
                    <button class="mdl-button mdl-js-button mdl-button--icon" onclick="location.href='index_updated.html';">
                        <i class="material-icons">arrow_back</i>
                    </button>
                        <!-- Title -->
                    <span class="mdl-layout-title" style="margin-left:2%">Activity History</span>
                        <!-- Add spacer, to align navigation to the right -->
                    <div class="mdl-layout-spacer"></div>   
                </div>
            </header>

       </div>
  

        <center>
        <br><br>
        <br><br>
        <br><br>
            <div class="viewRun"><p style="color:blue;font-size:200%;font-family:calibri;text-align:center"><ins> Run History </ins></p></div>
        <br><br>          
        <br><br>


                <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent mdl-js-ripple-effect mdl-button--colored" style=";margin-right:3%"  onclick="deletelocal()">
                    Clear History
                </button>
        
        </center>
        
        
                    
                    
        <!DOCTYPE html>
<main class="mdl-layout__content" onload="Javascript:create()">

          
            <div id="mydata">
            <b>Summary of Activities</b>
            <table id="myTableData" class="tablesorter" border="1" cellpadding="2">
                <thead>
                <tr>
                    <th>Description</th>
                    <th><b>Date</b></th>
                    <th><b>Time</b></th>
                    <th><b>Distance (km)</b></th>
                    <th><b>Avarage speed (km/h)</b></th>
                    <th><b>Activity</b></th>
                    <td><b></b></td>
                </tr>
                </thead>
            </table>
            &nbsp;

            </div>

          <script>
              
            function create(){
                          
                var n = localStorage.length;
                     for(var i = 0; i < n; i++){
                          addRow(i);
                     }
            }
              
            function addRow(i) {
                
                var table = document.getElementById("myTableData");

                var rowCount = table.rows.length;
                var row = table.insertRow(rowCount);
                    
                    row.insertCell(0).innerHTML= (JSON.parse(localStorage.getItem(localStorage.key(i)))).description;
                    row.insertCell(1).innerHTML= (JSON.parse(localStorage.getItem(localStorage.key(i)))).date;
                    row.insertCell(2).innerHTML= (JSON.parse(localStorage.getItem(localStorage.key(i)))).hours + ":" + (JSON.parse(localStorage.getItem(localStorage.key(i)))).minutes + ":" + (JSON.parse(localStorage.getItem(localStorage.key(i)))).seconds;
                    row.insertCell(3).innerHTML= (JSON.parse(localStorage.getItem(localStorage.key(i)))).distTravelledkm.toFixed(2);
                    row.insertCell(4).innerHTML= (JSON.parse(localStorage.getItem(localStorage.key(i)))).speedAvg;
                    row.insertCell(5).innerHTML= (JSON.parse(localStorage.getItem(localStorage.key(i)))).mode;
                    row.insertCell(6).innerHTML= '<input type="button" value = "Delete" onClick="Javacsript:deleteRow(this)">';
            }

            function deleteRow(obj) {

                var index = obj.parentNode.parentNode.rowIndex;
                var table = document.getElementById("myTableData");
                table.deleteRow(index);
                                
                if (localStorage.length == 1){
                    localStorage.clear();
                }
                
                localStorage.removeItem(localStorage.key(index))

            }

            function deletelocal(){
                localStorage.clear();
            }
              
          </script>

        </main>
     
    </body> 
</html>